<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>2.1 Quiz Retake â€” CSP Safe</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
<link rel="preconnect" href="https://cdn.jsdelivr.net">
<style>
  :root { --bg:#f5f7fb; --text:#1f2937; --muted:#6b7280; --primary:#3b82f6; --primary-d:#2563eb; --ok:#16a34a; --err:#dc2626; --card:#ffffff; --ring:#93c5fd; }
  * { box-sizing: border-box; }
  body { margin:0; font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,'Apple Color Emoji','Segoe UI Emoji'; background: var(--bg); color: var(--text); }
  .container { max-width: 900px; margin: 0 auto; padding: 24px; }
  h1 { margin: 0 0 8px 0; font-size: 28px; }
  .muted { color: var(--muted); }
  .card { background: var(--card); border-radius: 14px; padding: 20px; box-shadow: 0 6px 16px rgba(0,0,0,.08); }
  .btn { display:inline-block; padding: 12px 18px; border-radius: 10px; border: 0; color: #fff; background: var(--primary); cursor: pointer; font-weight: 700; width:100%; }
  .btn:hover { background: var(--primary-d); }
  .btn:disabled { background:#9ca3af; cursor:not-allowed; }
  .field { width: 100%; padding: 10px 12px; border: 1px solid #cbd5e1; border-radius: 10px; outline: none; font-size: 16px; }
  .field:focus { border-color: var(--primary); box-shadow: 0 0 0 3px var(--ring); }
  .row { display:flex; gap:10px; align-items:center; }
  .row-col { display:flex; flex-direction: column; gap:10px; }
  .mt { margin-top: 16px; }
  .badge { background:#ede9fe; color:#5b21b6; padding:4px 8px; border-radius: 9999px; font-size:12px; font-weight:700; }
  .right { text-align:right; }
  .answer-ok { border:2px solid #16a34a; background:#ecfdf5; }
  .answer-err { border:2px solid #dc2626; background:#fef2f2; }
  .hidden { display:none; }
  .qline { font-size: 20px; font-weight: 600; }
  .math { display:inline-block; font-family: Cambria, 'Times New Roman', serif; }
  .sup { vertical-align: super; font-size: 0.8em; }
  .dot { display:inline-block; transform: translateY(-0.08em); }
  .frac { display:inline-block; vertical-align: middle; text-align:center; }
  .frac .num { padding: 0 0.2em; }
  .frac .den { padding: 0 0.2em; }
  .frac .bar { border-top: 2px solid currentColor; margin: 2px 0; }
  .abs { position: relative; padding: 0 0.35em; }
  .abs:before, .abs:after { content: "|"; position: absolute; top: 0; bottom: 0; font-weight: 700; color: currentColor; }
  .abs:before { left: -0.2em; } .abs:after { right: -0.2em; }
  .paren { font-weight:700; }
  #log { white-space: pre-wrap; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace; background:#0b1020; color:#d1f1ff; padding:10px; border-radius:10px; }
</style>
</head>
<body>
  <div class="container">
    <div id="start" class="card" role="region" aria-label="Start">
      <h1>2.1 Quiz Retake</h1>
      <p class="muted">Four-Function Calculator Allowed. Enter your name to begin.</p>
      <div class="row-col mt">
        <label for="name" class="muted">Student Name</label>
        <input id="name" class="field" placeholder="e.g., Jane Doe" />
        <button id="go" class="btn mt">Start Quiz</button>
        <p id="status" class="muted" style="font-size:12px;"></p>
      </div>
    </div>

    <div id="quiz" class="hidden">
      <div class="right muted">Student: <strong id="who"></strong></div>
      <div class="right muted" id="score">Score: 0 / 0 (Total: 6)</div>
      <div class="right"><button id="reset" class="btn">Reset This Set</button></div>
      <div id="qs" class="row-col mt"></div>
      <div id="done" class="hidden mt"></div>
    </div>

    <div class="mt">
      <details open>
        <summary class="muted">Diagnostics</summary>
        <div id="log" class="mt"></div>
      </details>
    </div>
  </div>

  <!-- External scripts only (CSP friendly) -->
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"></script>
  <script src="./retake_app.js"></script>
</body>
</html>
